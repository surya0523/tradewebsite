{% extends "traco/base.html" %}
{% load static %}
{% block title %}TRACO - Trading Platform{% endblock %}

{% block content %}

<!-- Hero Section -->
<section class="px-4 py-12 md:py-20">
  <div class="container mx-auto grid md:grid-cols-2 items-center gap-12">
   
    <!-- Left Side: Text -->
    <div class="text-center md:text-left">
      <h1 class="text-2xl md:text-5xl font-bold leading-tight">
        Don’t Just Gain info<br>
        <span class="text-[#D4FF00]">Build Knowledge</span>
      </h1>
      <p class="mt-4 ml-0 md:ml-20 text-lg md:text-3xl text-gray-300 font-bold max-w-xl">
        Whether you’re a new investor or a market expert, we’ve got something for everyone at the
        <span class="text-[#D4FF00]">TRACO</span> blog
      </p>
    </div>

    <!-- Right Side: Oval Image with Border + Background + Stars -->
    <div class="flex justify-center relative">
      <!-- Outer wrapper (border + bg) -->
      <div class="relative border-1 border-[#D4FF00] bg-black flex items-center justify-center"
           style="width: 230px; height: 350px; border-radius: 50% / 40%;"
           class="md:w-[280px] md:h-[450px]">
       
        <!-- Inner oval (image) -->
        <div class="overflow-hidden border-4 border-[#D4FF00]"
             style="width: 200px; height: 300px; border-radius: 70% / 60%;"
             class="md:w-[250px] md:h-[400px]">
          <img src="{% static 'images/profile.jpg' %}"
               alt="profile"
               class="w-full h-full object-cover">
        </div>

        <!-- Stars sitting ON border -->
        <span class="absolute top-2 right-2">
          <img src="{% static 'images/sparkling_star.png' %}" alt="icon" class="w-6 h-6 md:w-12 md:h-12">
        </span>

        <span class="absolute bottom-2 left-2">
          <img src="{% static 'images/sparkling_star.png' %}" alt="icon" class="w-6 h-6 md:w-10 md:h-10">
        </span>
      </div>
    </div>

  </div>
</section>

<!-- Category Tabs -->
 <div class="flex flex-wrap w-full justify-between bg-gray-900 rounded-lg px-2 md:mx-auto md:w-3/4  min-h-[100px] items-center"> 
  <!-- <div class="grid grid-cols-2 md:grid-cols-4 gap-4 w-full bg-gray-900 rounded-lg px-4 md:mx-auto md:w-3/4 min-h-[100px] items-center"> -->
  {% for category in categories %}
    <a href="?category={{ category.name }}"
       class="px-3 py-2 text-[#D4FF00] text-lg md:text-base rounded-md
              hover:bg-white hover:text-black transition 
              {% if active_category == category.name %}bg-white text-black font-bold{% endif %}">
       {{ category.name }}
    </a>
  {% endfor %}
</div>

<!-- Blog Cards Section -->
<section class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 px-4 py-10 md:ml-28">
  {% for post in posts %}
    <div class="bg-white text-black rounded-3xl shadow-lg w-full sm:w-64 h-[300px]">
      <!-- Image with Title Overlay -->
      <div class="relative w-full h-40 md:h-48 rounded-xl overflow-hidden">
        {% if post.image %}
          <img src="{{ post.image.url }}" alt="{{ post.title }}"
               class="w-full h-full object-cover">
        {% else %}
          <img src="https://via.placeholder.com/300x200" alt="Placeholder"
               class="w-full h-full object-cover">
        {% endif %}
        <div class="absolute inset-0 flex items-start p-2 md:p-4 justify-center">
          <h3 class="text-black font-bold text-xs md:text-sm text-center px-2 py-1 md:px-4 md:py-2 rounded backdrop-blur-md bg-white/30 inline-block">
            {{ post.title }}
          </h3>
        </div>
      </div>

      <!-- Metadata & Description -->
      <p class="text-gray-800 text-xs md:text-sm font-semibold mt-2 md:mt-4 text-center">
        {{ post.read_time }} · {{ post.date|date:"d M Y" }}
      </p>
      <p class="text-black text-xs md:text-sm m-2 font-semibold text-center">
        {{ post.description|truncatewords:20 }}
      </p>
    </div>
 {% empty %}
    <p class="text-center text-gray-400 col-span-3">No blog posts available.</p>
  {% endfor %} 
</section>


{% endblock %}
